(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{21:function(e,t,a){e.exports=a(47)},26:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(19),o=a.n(i),c=(a(26),a(20)),r=a(4),s=a(5),m=a(6),h=a(8),u=a(7),d=a(1),p=a(9),g=a(2),b=a.n(g);a(44),a(45);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(u.a)(t).call(this,e))).handleLoginSubmit=function(e){e.preventDefault();var t={username:a.state.username,password:a.state.password};b.a.post("api/v1/rest-auth/login/",t).then((function(e){console.log(e),localStorage.setItem("my-app-key",e.data.key),a.setState({loggedIn:!0,showLogin:!1})})).catch((function(e){console.log(e)}))},a.handleSignUpSubmit=function(e){e.preventDefault(),b.a.post("api/v1/rest-auth/registration/").then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},a.state={username:"",password:"",loggedIn:!1,showLogin:!1},a.handleSignUpSubmit=a.handleSignUpSubmit.bind(Object(d.a)(a)),a.handleLoginSubmit=a.handleLoginSubmit.bind(Object(d.a)(a)),a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleShowLogin=a.handleShowLogin.bind(Object(d.a)(a)),a.handleHideLogin=a.handleHideLogin.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"handleShowLogin",value:function(e){var t=this;this.state.loggedIn?b.a.post("api/v1/rest-auth/logout/").then((function(e){localStorage.setItem("my-app-key",null),t.setState({loggedIn:!1})})).catch((function(e){console.log(e)})):this.setState({showLogin:!0})}},{key:"handleHideLogin",value:function(e){this.setState({showLogin:!1})}},{key:"render",value:function(){var e=null;return this.state.showLogin&&(e=l.a.createElement("div",{className:this.state.showLogin?"modal-selected":"modal"},l.a.createElement("form",{className:"modal-content animate",onSubmit:this.handleLoginSubmit,method:"post"},l.a.createElement("div",{className:"imgcontainer"},l.a.createElement("span",{onClick:this.handleHideLogin,className:"close",title:"Close Modal"},"\xd7")),l.a.createElement("div",{className:"container"},l.a.createElement("label",{htmlFor:"username"},l.a.createElement("b",null,"Username")),l.a.createElement("input",{onChange:this.handleChange,type:"text",placeholder:"Enter Username",name:"username",required:!0}),l.a.createElement("label",{htmlFor:"password"},l.a.createElement("b",null,"Password")),l.a.createElement("input",{onChange:this.handleChange,type:"password",placeholder:"Enter Password",name:"password",required:!0}),l.a.createElement("button",{type:"submit"},"Login"),l.a.createElement("label",null,l.a.createElement("input",{onChange:this.handleChange,type:"checkbox",name:"remember"})," Remember me")),l.a.createElement("div",{className:"container",style:{backgroundColor:"#f1f1f1"}},l.a.createElement("button",{type:"button",onClick:this.handleHideLogin,className:"cancelbtn"},"Cancel"),l.a.createElement("span",{className:"psw"},"Forgot ",l.a.createElement("a",{href:"/accounts/password_reset"},"password?")))))),l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:this.handleShowLogin,className:"logon-btn"},this.state.loggedIn?"Logout":"Login"),e)}}]),t}(l.a.Component);a(46);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(u.a)(t).call(this,e))).state={title:"test1",image:null,private:"off",type:"Anytime",prep_time:"00:00:00",cook_time:"00:00:00",cook_temp:10,cook_temp_unit:"Fahrenheit",notes:"this is notes",preview:"",showCreate:!1},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleShowCreate=a.handleShowCreate.bind(Object(d.a)(a)),a.handleHideCreate=a.handleHideCreate.bind(Object(d.a)(a)),a.handleImageChange=a.handleImageChange.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefaulxt();var a=new FormData;a.append("title",this.state.title),a.append("image",this.state.image),a.append("private","on"===this.state.private),a.append("type",this.state.type),a.append("prep_time",this.state.prep_time),a.append("cook_time",this.state.cook_time),a.append("cook_temp",this.state.cook_temp),a.append("cook_temp_unit",this.state.cook_temp_unit),a.append("notes",this.state.notes),b.a.post("/api/v1/recipes/",a,{headers:{"content-type":"multipart/form-data"}}).then((function(e){t.setState({title:"",image:null,private:"off",type:"Anytime",prep_time:"00:00",cook_time:"00:00",cook_temp:0,cook_temp_unit:"Fahrenheit",notes:"",preview:"",showCreate:!1})})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"handleImageChange",value:function(e){var t=this,a=e.target.files[0];console.log(a),this.setState({image:a});var n=new FileReader;n.onloadend=function(){t.setState({preview:n.result})},n.readAsDataURL(a)}},{key:"handleShowCreate",value:function(e){this.setState({showCreate:!0})}},{key:"handleHideCreate",value:function(e){this.setState({showCreate:!1})}},{key:"render",value:function(){var e=null;return this.state.showCreate&&(e=l.a.createElement("div",{className:this.state.showCreate?"create-selected":"create"},l.a.createElement("form",{className:"create-content animate",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"imgcontainer"},l.a.createElement("span",{onClick:this.handleHideCreate,className:"close",title:"Close Create"},"\xd7")),l.a.createElement("div",{className:"container"},"Basic Info:",l.a.createElement("br",null),l.a.createElement("br",null),"Title: ",l.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("br",null),"Image: ",l.a.createElement("input",{type:"file",name:"image",onChange:this.handleImageChange}),this.state.image?l.a.createElement("img",{src:this.state.preview,alt:"preview",width:"200"}):null,l.a.createElement("br",null),"Make Recipe Private: ",l.a.createElement("input",{type:"checkbox",checked:"unchecked",name:"private"}),l.a.createElement("br",null),"Recipe Type:",l.a.createElement("select",{name:"type"},l.a.createElement("option",{value:"Anytime",selected:!0},"Anytime"),l.a.createElement("option",{value:"Breakfast"},"Breakfast"),l.a.createElement("option",{value:"Lunch"},"Lunch"),l.a.createElement("option",{value:"Dinner"},"Dinner")),l.a.createElement("br",null),"Prep Time: ",l.a.createElement("input",{type:"text",name:"prep_time",pattern:"[0-9]{2}:[0-9]{2}",placeholder:"00:00"}),"Cook Time: ",l.a.createElement("input",{type:"text",name:"cook_time",pattern:"[0-9]{2}:[0-9]{2}",placeholder:"00:00"}),"Cooking Temp: ",l.a.createElement("input",{type:"number",name:"cook_temp",min:"0",max:"999",step:"5"}),l.a.createElement("select",{name:"cook_temp_unit"},l.a.createElement("option",{value:"Fahrenheit",selected:!0},"F"),l.a.createElement("option",{value:"Celsius"},"C")),l.a.createElement("br",null),"Notes: ",l.a.createElement("input",{type:"text",name:"notes",value:this.state.notes,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",null,"Finish!"))))),l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:this.handleShowCreate,className:"create-btn"},"+"),e)}}]),t}(l.a.Component);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(u.a)(t).call(this,e))).state={recipes:[]},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleDelete=a.handleDelete.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.setItem("my-app-key",null),b.a.get("/api/v1/recipes/").then((function(t){e.setState({recipes:t.data})})).catch((function(e){console.log(e)})),b.a.get("/api/v1/rest-auth/user/").then((function(t){e.setState({username:t.username})})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"handleDelete",value:function(e){var t=this;b.a.delete("/api/v1/recipes/".concat(e.id,"/")).then((function(a){console.log(a);var n=Object(c.a)(t.state.recipes),l=n.indexOf(e);console.log(l),n=n.splice(l),t.setState({recipes:n})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.recipes.map((function(t){return l.a.createElement("li",{key:t.id,className:"recipe-li"},l.a.createElement("p",null,t.title)," by ",l.a.createElement("p",null,t.created_by),l.a.createElement("br",null),l.a.createElement("img",{src:t.image,alt:t.title,width:"200",className:"recipe-img"}),l.a.createElement("button",{onClick:function(){return e.handleDelete(t)},className:"del-btn"},"x"))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"d-flex justify-content-between align-items-center border-bottom"},l.a.createElement("i",null,"The kitchen is yours, chef!"),l.a.createElement("a",{href:"/"},l.a.createElement("h1",{className:"text-uppercase"},"Batch Maker")),l.a.createElement("div",{className:"user-actions"},l.a.createElement("li",null,l.a.createElement(f,null)),l.a.createElement("li",null,l.a.createElement(v,null)))),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("nav",{className:"d-none d-md-flex col-3 flex-column border-right"},l.a.createElement("div",null,"My Recipes"),l.a.createElement("div",null,"Public Recipes"),l.a.createElement("div",null,"My Favorite Recipes")),l.a.createElement("div",{className:"col-9"},l.a.createElement("div",null,"My Recipes",l.a.createElement("ul",null,t)),l.a.createElement("div",null,"Public Recipes"),l.a.createElement("div",null,"My Favorite Recipes")))))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.e94545d9.chunk.js.map