(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{21:function(e,t,a){e.exports=a(48)},26:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(20),r=a.n(i),s=(a(26),a(5)),c=a(4),o=a(6),m=a(7),h=a(9),u=a(8),d=a(1),p=a(10),g=a(2),v=a.n(g);a(44),a(45);v.a.defaults.xsrfCookieName="csrftoken",v.a.defaults.xsrfHeaderName="X-CSRFToken";var b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(u.a)(t).call(this,e))).handleLoginSubmit=function(e){e.preventDefault();var t={username:a.state.username,password:a.state.password};v.a.post("api/v1/rest-auth/login/",t).then((function(e){localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("my-app-key",JSON.stringify(e.data)),a.setState({showLogin:!1}),console.log(localStorage),console.log(a.state),window.location.reload()})).catch((function(e){console.log(e)}))},a.handleSignUp=function(e){e.preventDefault(),v.a.post("api/v1/rest-auth/registration/").then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},a.state={username:"",password:"",showLogin:!1},a.handleSignUp=a.handleSignUp.bind(Object(d.a)(a)),a.handleLoginSubmit=a.handleLoginSubmit.bind(Object(d.a)(a)),a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleShowLogin=a.handleShowLogin.bind(Object(d.a)(a)),a.handleHideLogin=a.handleHideLogin.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(c.a)({},e.target.name,e.target.value))}},{key:"handleShowLogin",value:function(e){localStorage.getItem("user")?v.a.post("api/v1/rest-auth/logout/").then((function(e){localStorage.removeItem("my-app-key"),localStorage.removeItem("user"),window.location.reload()})).catch((function(e){console.log(e)})):this.setState({showLogin:!0})}},{key:"handleHideLogin",value:function(e){this.setState({showLogin:!1})}},{key:"render",value:function(){var e=this,t=null;return this.state.showLogin&&(t=l.a.createElement("div",{className:this.state.showLogin?"modal-selected":"modal"},l.a.createElement("form",{className:"modal-content animate p-3",onSubmit:this.handleLoginSubmit,method:"post"},l.a.createElement("div",{className:"imgcontainer"},l.a.createElement("span",{onClick:this.handleHideLogin,className:"close",title:"Close Modal"},"\xd7")),l.a.createElement("div",{className:"m-auto"},l.a.createElement("label",{htmlFor:"username"},l.a.createElement("b",null,"Username:")),l.a.createElement("input",{className:"m-2 w-100",onChange:this.handleChange,type:"text",placeholder:"Enter Username",name:"username",required:!0}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"password"},l.a.createElement("b",null,"Password:")),l.a.createElement("input",{className:"m-2 w-100",onChange:this.handleChange,type:"password",placeholder:"Enter Password",name:"password",required:!0}),l.a.createElement("br",null),l.a.createElement("button",{className:"m-2 w-100 loginbtn",type:"submit"},"Login"),l.a.createElement("button",{className:"m-2 w-100 signupbtn",type:"button",onClick:function(){return e.handleSignUp}},"Sign Up"),l.a.createElement("span",{className:"m-2 float-left psw"},l.a.createElement("a",{href:"/api/v1/rest-auth/password/reset"},"Forgot password?")),l.a.createElement("label",{className:"float-right"},l.a.createElement("input",{className:"m-1",onChange:this.handleChange,type:"checkbox",name:"remember"})," Remember me")),l.a.createElement("div",{className:"m-auto"},l.a.createElement("button",{type:"button",onClick:this.handleHideLogin,className:"cancelbtn"},"Cancel"))))),l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:this.handleShowLogin,className:"logon-btn"},localStorage.getItem("user")?"Logout":"Login"),t)}}]),t}(l.a.Component);a(46);v.a.defaults.xsrfCookieName="csrftoken",v.a.defaults.xsrfHeaderName="X-CSRFToken";var f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(u.a)(t).call(this,e))).state={title:"test1",image:null,created_by:null,private:!1,type:"Anytime",prep_time:"00:00",cook_time:"00:00",cook_temp:10,cook_temp_unit:"Fahrenheit",notes:"this is notes",preview:"",showCreate:!1},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleShowCreate=a.handleShowCreate.bind(Object(d.a)(a)),a.handleHideCreate=a.handleHideCreate.bind(Object(d.a)(a)),a.handleImageChange=a.handleImageChange.bind(Object(d.a)(a)),a.handleCheckBoxChange=a.handleCheckBoxChange.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),v.a.get("/api/v1/rest-auth/user/",localStorage.getItem("username")).then((function(e){localStorage.setItem("user_id",JSON.stringify(e.data.pk))})).catch((function(e){console.log(e)}));var a=new FormData;a.append("title",this.state.title),a.append("image",this.state.image),a.append("created_by",localStorage.getItem("user_id")?localStorage.getItem("user_id"):null),a.append("private",this.state.private),a.append("type",this.state.type),a.append("prep_time",this.state.prep_time),a.append("cook_time",this.state.cook_time),a.append("cook_temp",this.state.cook_temp),a.append("cook_temp_unit",this.state.cook_temp_unit),a.append("notes",this.state.notes),localStorage.setItem("formData",a),console.log(a),v.a.post("/api/v1/recipes/",a,{headers:{"content-type":"multipart/form-data"}}).then((function(){t.setState({title:"",image:null,private:!1,type:"Anytime",prep_time:"00:00",cook_time:"00:00",cook_temp:0,cook_temp_unit:"Fahrenheit",notes:"",preview:"",showCreate:!1})})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(c.a)({},e.target.name,e.target.value))}},{key:"handleCheckBoxChange",value:function(e){this.setState(Object(c.a)({},e.target.name,!e.target.checked))}},{key:"handleImageChange",value:function(e){var t=this,a=e.target.files[0];console.log(a),this.setState({image:a});var n=new FileReader;n.onloadend=function(){t.setState({preview:n.result})},n.readAsDataURL(a)}},{key:"handleShowCreate",value:function(e){this.setState({showCreate:!0}),console.log(this.state)}},{key:"handleHideCreate",value:function(e){this.setState({showCreate:!1})}},{key:"render",value:function(){var e=null;return this.state.showCreate&&(e=l.a.createElement("div",{className:this.state.showCreate?"create-selected":"create"},l.a.createElement("form",{className:"create-content animate",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"imgcontainer"},l.a.createElement("span",{onClick:this.handleHideCreate,className:"close",title:"Close Create"},"\xd7")),l.a.createElement("div",{className:"container"},"Basic Info:",l.a.createElement("br",null),l.a.createElement("br",null),"Title: ",l.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("br",null),"Image: ",l.a.createElement("input",{type:"file",name:"image",onChange:this.handleImageChange}),this.state.image?l.a.createElement("img",{src:this.state.preview,alt:"preview",width:"200"}):null,l.a.createElement("br",null),"Make Recipe Private: ",l.a.createElement("input",{type:"checkbox",name:"private",value:this.state.private,onChange:this.handleCheckBoxChange}),l.a.createElement("br",null),"Recipe Type:",l.a.createElement("select",{name:"type",value:this.state.type,onChange:this.handleChange},l.a.createElement("option",{value:"Anytime"},"Anytime"),l.a.createElement("option",{value:"Breakfast"},"Breakfast"),l.a.createElement("option",{value:"Lunch"},"Lunch"),l.a.createElement("option",{value:"Dinner"},"Dinner")),l.a.createElement("br",null),"Prep Time: ",l.a.createElement("input",{type:"text",name:"prep_time",pattern:"[0-9]{2}:[0-9]{2}",placeholder:"00:00",value:this.state.prep_time,onChange:this.handleChange}),"Cook Time: ",l.a.createElement("input",{type:"text",name:"cook_time",pattern:"[0-9]{2}:[0-9]{2}",placeholder:"00:00",value:this.state.cook_time,onChange:this.handleChange}),"Cooking Temp: ",l.a.createElement("input",{type:"number",name:"cook_temp",min:"0",max:"999",step:"5",value:this.state.cook_temp,onChange:this.handleChange}),l.a.createElement("select",{name:"cook_temp_unit",value:this.state.cook_temp_unit,onChange:this.handleChange},l.a.createElement("option",{value:"Fahrenheit"},"F"),l.a.createElement("option",{value:"Celsius"},"C")),l.a.createElement("br",null),"Notes: ",l.a.createElement("input",{type:"text",name:"notes",value:this.state.notes,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{type:"submit"},"Finish!"))))),l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:this.handleShowCreate,className:"create-btn"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 24 24"},l.a.createElement("path",{d:"M13 2v9h9v2h-9v9h-2v-9h-9v-2h9v-9h2zm2-2h-6v9h-9v6h9v9h6v-9h9v-6h-9v-9z"}))),e)}}]),t}(l.a.Component);v.a.defaults.xsrfCookieName="csrftoken",v.a.defaults.xsrfHeaderName="X-CSRFToken";var E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(u.a)(t).call(this,e))).state={recipes:[]},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleDelete=a.handleDelete.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("/api/v1/recipes/").then((function(t){e.setState({recipes:t.data})})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(c.a)({},e.target.name,e.target.value))}},{key:"handleDelete",value:function(e){var t=this;v.a.delete("/api/v1/recipes/".concat(e.id,"/")).then((function(a){var n=Object(s.a)(t.state.recipes),l=n.indexOf(e);n.splice(l,1),t.setState({recipes:n})})).catch((function(e){console.log(e)}))}},{key:"handleFavorite",value:function(e){v.a.get("/api/v1/rest-auth/user",JSON.parse(localStorage.getItem("user")).username).then((function(t){e.users.add(t.data),console.log(e.users)})).catch((function(e){console.log(e)}))}},{key:"makeRow",value:function(e){var t=this;return e.map((function(e){return l.a.createElement("li",{key:e.id,className:"recipe-li m-2"},l.a.createElement("div",{className:"recipe-img",style:{backgroundImage:"url(".concat(e.image,")")}},l.a.createElement(f,{width:"50",height:"50"})),l.a.createElement("button",{onClick:function(){return t.handleDelete(e)},className:"del-btn"},"x"),l.a.createElement("button",{onClick:function(){return t.handleFavorite(e)},className:"fav-btn"},"\u2665\ufe0e"))}))}},{key:"render",value:function(){var e=Object(s.a)(this.state.recipes),t=Object(s.a)(this.state.recipes).filter((function(e){return e.created_by==localStorage.getItem("user_id")})),a=Object(s.a)(this.state.recipes).filter((function(e){return!e.private})),n=Object(s.a)(this.state.recipes).filter((function(e){return e.is_popular()})),i=Object(s.a)(this.state.recipes).filter((function(e){return e}));return e=this.makeRow(e),t=this.makeRow(a),a=this.makeRow(a),n=this.makeRow(n),i=this.makeRow(i),l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"border-bottom"},l.a.createElement("div",{className:"container-fluid d-flex justify-content-between align-items-center"},l.a.createElement("i",null,"The kitchen is yours, ","chef".concat(localStorage.getItem("user")?" ".concat(JSON.parse(localStorage.user).username):""),"!"),l.a.createElement("a",{href:"/"},l.a.createElement("h1",{className:"text-uppercase"},"Batch Maker")),l.a.createElement("div",{className:"user-actions"},l.a.createElement("li",null,l.a.createElement(f,{width:"25",height:"25"})),l.a.createElement("li",null,l.a.createElement(b,null))))),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("nav",{className:"d-none d-md-flex col-2 flex-column border-right align-items-center text-center"},l.a.createElement("div",{className:"p-4"},"My Recipes"),l.a.createElement("div",{style:{height:"1px",width:"25px",backgroundColor:"grey"}}),l.a.createElement("div",{className:"p-4"},"Public Recipes"),l.a.createElement("div",{style:{height:"1px",width:"25px",backgroundColor:"grey"}}),l.a.createElement("div",{className:"p-4"},"Popular Recipes"),l.a.createElement("div",{style:{height:"1px",width:"25px",backgroundColor:"grey"}}),l.a.createElement("div",{className:"p-4"},"My Favorite Recipes"),l.a.createElement("div",{style:{height:"1px",width:"25px",backgroundColor:"grey"}}),l.a.createElement("div",{className:"p-4"},"My Pantry"),l.a.createElement("div",{style:{height:"1px",width:"25px",backgroundColor:"grey"}})),l.a.createElement("div",{className:"col m-4"},l.a.createElement("div",{className:"justify-content-between"},l.a.createElement("div",{className:"row d-flex align-items-center"},l.a.createElement("div",{className:"m-2"},"All Recipes"),l.a.createElement("div",{className:"divider-bar flex-grow-1",style:{height:"1px",backgroundColor:"grey"}}),l.a.createElement("div",{className:"m-2"},"View All >")),l.a.createElement("ul",{className:"d-flex list-unstyled flex-wrap"},e)),l.a.createElement("div",{className:"justify-content-between"},l.a.createElement("div",{className:"row d-flex align-items-center"},l.a.createElement("div",{className:"m-2"},"My Recipes"),l.a.createElement("div",{className:"divider-bar flex-grow-1",style:{height:"1px",backgroundColor:"grey"}}),l.a.createElement("div",{className:"m-2"},"View All >")),l.a.createElement("ul",{className:"d-flex list-unstyled flex-wrap"},t)),l.a.createElement("div",{className:"justify-content-between"},l.a.createElement("div",{className:"row d-flex align-items-center"},l.a.createElement("div",{className:"m-2"},"Public Recipes"),l.a.createElement("div",{className:"divider-bar flex-grow-1",style:{height:"1px",backgroundColor:"grey"}}),l.a.createElement("div",{className:"m-2"},"View All >")),l.a.createElement("ul",{className:"d-flex list-unstyled flex-wrap"},a)),l.a.createElement("div",{className:"justify-content-between"},l.a.createElement("div",{className:"row d-flex align-items-center"},l.a.createElement("div",{className:"m-2"},"Popular Recipes"),l.a.createElement("div",{className:"divider-bar flex-grow-1",style:{height:"1px",backgroundColor:"grey"}}),l.a.createElement("div",{className:"m-2"},"View All >")),l.a.createElement("ul",{className:"d-flex list-unstyled flex-wrap"},n)),l.a.createElement("div",{className:"justify-content-between"},l.a.createElement("div",{className:"row d-flex align-items-center"},l.a.createElement("div",{className:"m-2"},"My Favorite Recipes"),l.a.createElement("div",{className:"divider-bar flex-grow-1",style:{height:"1px",backgroundColor:"grey"}}),l.a.createElement("div",{className:"m-2"},"View All >")),l.a.createElement("ul",{className:"d-flex list-unstyled flex-wrap"},i))))))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(47);r.a.render(l.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.2c5f1bcb.chunk.js.map